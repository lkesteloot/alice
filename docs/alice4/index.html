<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Alice&nbsp;4</title>
        <link href='https://fonts.googleapis.com/css?family=Sorts+Mill+Goudy:400,400italic' rel='stylesheet' type='text/css'>
        <link href="../base.css" rel="stylesheet" type="text/css">
    </head>
    <body>
        <div class="content">
            <h1>Alice&nbsp;4</h1>

            <p>One lesson we learned from the
            <a href="../alice3/">Alice&nbsp;3</a> project was that having existing
            software for a platform provided great motivation. For
            the Alice&nbsp;4 we wanted to use a more advanced CPU than the Z80
            that had powered the previous three projects. Brad wanted
            to do something more ambitious with an ARM (since he worked
            there) and Lawrence wanted to learn how to program FPGAs. Finally,
            the project had to have nostalgic value, as always.</p>

            <p>We decided to make a portable tablet that did nothing but
            run mid-1980’s Silicon Graphics (SGI) demos. The demos were
            famous. They were pre-installed on all SGI machines for a decade,
            and they induced instant nostalgia in anyone who had spent time
            with those wonderful workstations. Both of us had worked at SGI and
            had used the machines extensively.</p>

            <p>We used the Altera Cyclone V SoC chip on the
            <a href="http://www.terasic.com.tw/cgi-bin/page/archive.pl?Language=English&No=941">DE0-Nano-SoC</a> board (also known as the Atlas-SoC).
            The chip provided a dual-core ARM Cortex A9 and a fairly capable
            FPGA. The board added 1 GB of memory, USB, Ethernet, an
            accelerometer, and plenty of GPIO pins.</p>

            <p>We added a <a href="https://www.adafruit.com/product/2354">seven-inch touchscreen LCD</a>,
            an <a href="https://www.adafruit.com/product/1932">LCD driver</a>,
            a <a href="https://www.adafruit.com/product/1571">touch screen controller</a>,
            and a simple red “Home” <a href="https://www.adafruit.com/product/1445">button</a>,
            all from Adafruit. Brad designed a PCB
            to connect these pieces together.</p>

            <p><img src="tablet.jpg"></p>

            <p>The ARM runs Linux and the demos (which we found in source form in a tar file
            on an ancient FTP site). Brad wrote a
            <a href="libgl.html">replacement IrisGL library</a>,
            which performs the transformation, clipping, and lighting, and
            creates an in-memory list of 2D triangles to rasterize.  The FPGA
            rasterizes them, performing color interpolation and Z buffering.
            The FPGA also scans the frame buffer to the LCD. Here’s a
            <a href="fpga-rasterizer.html">detailed write-up of the FPGA rasterizer</a>.</p>

            <p>The tablet runs “buttonfly” (a 3D menu system), a 3D SGI logo,
            “insect”, “arena”, “bounce”, “jello”, and “Ideas in Motion”.
            The demos are slightly modified to make use of the touch
            and tilt interface.</p>

            <p>The GPU has a rasterization rate of about 50 million Gouraud (color-interpolated)
            Z-buffered pixels per second. The triangle overhead lets us do
            almost 2 million (empty) triangles per second. It's hard to compare
            these numbers to
            <a href="http://www.sgidepot.co.uk/gfxtables.html">real SGI machines</a>,
            but we seem to be matching the performance of machines built in the
            early 1990s.</p>

            <p>In August 2017 we showed the Alice 4 at the
            <a href="http://vcfed.org/wp/festivals/vintage-computer-festival-west/">Vintage Computer Festival West</a>
            in Mountain View, California, along with the
            <a href="../alice3/">Alice 3</a> running CP/M and a non-functional
            <a href="../alice2/">Alice 2</a>.
            We were thrilled to meet Thant Tessman, the original author of several
            of our SGI demos. Here’s a photo of Brad, Lawrence,
            and Thant. Behind us is a real SGI Personal Iris from 1989. Lawrence is
            holding the Alice 4. Both the Iris and the Alice 4 are running
            “insect”, one of the classic demos that Thant wrote in the
            mid-1980s.</p>

            <p><img src="thant.jpg"></p>

            <p>(Lawrence was so impressed by “insect” in 1989 that he wrote a
            Pascal version on his 286 EGA PC. You can run that version in his
            <a href="https://www.teamten.com/lawrence/projects/turbo_pascal_compiler/demo/" target="_blank">web-based Turbo Pascal emulator</a>. Type “W”, then “SPIDER.PAS” (capitalization important), then “R”.)</p>

            <p>We designed and 3D-printed an enclosure for it, along with a battery
            charger to make it a portable tablet. Here’s a video showing the various demos:</p>

            <p><iframe width="560" height="315" src="https://www.youtube.com/embed/H9817NOqXno?rel=0" frameborder="0" allowfullscreen></iframe><p>

            <p>Lawrence has been asked which Verilog and FPGA books he found useful.
            He thought that <a href="http://amzn.to/2vw1iL9"><i>Verilog by Example</i></a>
            was a good intro to the
            language. Then <a href="http://amzn.to/2hBfexv"><i>FPGA Programming by Verilog Examples</i></a> was
            outstanding. It taught a bit of Verilog, but it mostly showed how
            to structure code to do various things (like state machines).
            One of the best technical books he’s ever read. He also read
            <a href="http://amzn.to/2wyXnde"><i>Advanced Chip Design</i></a>
            because it was repeatedly recommended on
            Amazon (in other books’ reviews), but he didn’t get a lot out of it.</p>

            <p><a href="https://github.com/lkesteloot/alice/tree/master/alice4">All software and hardware are available on GitHub</a>.</p>

            <p><a href="../">&laquo; Back</a></p>
        </div>
    </body>
</html>

